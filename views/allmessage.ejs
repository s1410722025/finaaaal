<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>留言板</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css">

    <style>
        body {
          overflow: hidden;
          padding-top: 30px;
          background-color: rgb(114, 172, 223);
          text-align: left;
        }
    
        #container {
          margin: auto;
        }
    
        #sb{
          margin: auto;
        }
    
        #tt{
          font-size: 30px;
          font-family: sans-serif;
          font-weight: bold;
          text-align: center;
          color: rgb(255, 255, 255);
        }

        #tt1{
          font-size: 24px;
          font-family: sans-serif;
          font-weight: bold;
          text-align: center;
          color: rgb(255, 255, 255);
        }

        #tt2{
          font-size: 20px;
          font-family: sans-serif;
          text-align: center;
          color: rgb(0, 0, 0)
        }
      </style>
      <script>
        function isHidden(answer){
            var vDiv = document.getElementById(answer);
            vDiv.style.display = (vDiv.style.display == 'none')?'block':'none';
          }
      </script>
</head>

<body style="overflow-y:auto">
    <div class="container py-3 ">
        <div class="row">
            <div class="col-md-12 col-sm-12 ">
                <p id="tt">測試留言板輸出</p>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <% allmessage.forEach(function(item){ %>
            <div class="col-sm-12">
                <div class="col-md-12 col-sm-12" style="text-align: center;" style="cursor:hand" >
                    <div id="tt1">
                      <%= item.name %>：<%= item.message %>
                      <!-- <input id="tt2" type="submit" value="回覆"></input> -->
                    </div>  
                   
                    <!-- style="display: none;" -->
                  </br>
                  <hr size="2px" align="center" width="100%" color="#e9e9e9">
                  <div id="tt1"><%= item.answername %> 回覆：<%= item.answermessage %> 
                               
                  </br></div>
                
                <hr size="2px" align="center" width="100%" color="#e9e9e9">
                      <form action="/answermessage" method="POST">
                        <div class="container " id="answer" >
                          <div class="row" style="text-align: center;">

                              <div class="col-md-12 col-sm-12 " >
                              <div class="form-group"></div>                              
                                <div class="form-group">
                                  <textarea class="form-control" placeholder="回覆" id="umessage" name="umessage" rows="3" required></textarea>
                                </div>
                                <div class="col-md-12 " style="text-align: center;">
                                  <!-- <input type="submit" id="answermessage"  ></input> -->
                                  <button type="submit" id="<%= item.message %>" name="answer" value="<%= item.message %>" required>送出</button>
                                  </div>
                                  <div class="col-md-12"></div>
                              </div>
                          </div>
                        </div>
                      </form>
                      <hr size="2px" align="center" width="100%" color="#e9e9e9">
                </div>

                
            </div>
          </div>
      </div>
 <% }) %>           
                


    <!-- 彈出回覆視窗 -->
          <div class="container" style="text-align: center;">
            <!-- Button to Open the Modal -->
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
              我要!
            </button>
          
            <!-- 彈出框 -->
            <div class="modal" id="myModal">
              <div class="modal-dialog">
                <div class="modal-content">
                
                  <!-- 彈出框標題 -->
                  <div class="modal-header">
                    <h4 class="modal-title">留言</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                  </div>
                  
                  <!-- 彈出框內部 -->

                        <form action="/message" method="POST">
                          <div class="container ">
                            <div class="row">
                                <div class="col-md-12 col-sm-12 ">
                                  <div class="form-group" style="text-align: left;">
                                    <label for="text" id="tt2" >名稱: <%= usermessage %> </label>
                                  </div>
                                  <div class="form-group">
                                    <textarea class="form-control" placeholder="說點甚麼" id="umessage" name="umessage" rows="3" required></textarea>
                                  </div>

                                  <div class="modal-footer">
                                    <div class="col-md-12 " style="text-align: center;">
                                    <input type="submit" id="message" value="送出" ></input>
                                  </div>
                                  </div>
                                  
                                </div>
                            </div>
                          </div>
                        </form>

                  </div>
                </div>
              </div>
            </div>
    </div>
    <!-- 彈出框結束 -->

<script type="text/javascript" src="jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="js/crypto-js.js"></script>





</body>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.slim.min.js"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/js/bootstrap.min.js"></script>

</html>



<!-- https://ithelp.ithome.com.tw/articles/10219716
https://jsnwork.kiiuo.com/archives/1980/jquery-vmodel-js-%E8%A8%8E%E8%AB%96%E5%88%97%E8%A1%A8%E7%AF%84%E4%BE%8B%E6%95%99%E5%AD%B82-%E6%B7%BB%E5%8A%A0%E5%9B%9E%E8%A6%86%E5%8A%9F%E8%83%BD/
https://www.itread01.com/content/1547431223.html -->